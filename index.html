<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />

    <link rel="stylesheet" href="./css/style.css?pizdztscss">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8JTF2RD40T"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag () {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'G-8JTF2RD40T');
    </script>

    <title>Blockchain Life 2022</title>
</head>

<body>
    <main class="main-wrapper fit">
        <!-- Home screen -->
        <section class="screen-1 fit">

            <div class="logo">
                <img src="./assets/images/logo-banner.svg" alt="">
            </div>
            <h2>WE ARE OPEN TO COLLABORATE WITH:</h2>

            <div class="content">
                <div class="choice-liste ">
                    <!-- white border around radio buttons -->
                    <div class="border-wrapper"></div>

                    <label class="input-radio" for="adviser">
                        <input type="radio" name="choice" id="adviser" value="adviser" checked>
                        <span class="checkmark"></span>
                        <span>advisers</span>
                    </label>

                    <label class="input-radio" for="investors">
                        <input type="radio" name="choice" id="investors" value="investor">
                        <span class="checkmark"></span>
                        <span> investors </span>
                    </label>

                    <label class="input-radio" for="game-publisher">
                        <input type="radio" name="choice" id="game-publisher" value="Game Publisher">
                        <span class="checkmark"></span>
                        <span>Game Publishers</span>
                    </label>

                    <label class="input-radio" for="developer">
                        <input type="radio" name="choice" id="developer" value="Game Developers">
                        <span class="checkmark"></span>
                        <span>Game Developers</span>
                    </label>

                    <label class="input-radio" for="ar-artist">
                        <input type="radio" name="choice" id="ar-artist" value="AR Artist">
                        <span class="checkmark"></span>
                        <span>AR Artists</span>
                    </label>

                    <label class="input-radio" for="p2e-player">
                        <input type="radio" name="choice" id="p2e-player" value="P2E player">
                        <span class="checkmark"></span>
                        <span>P2E players</span>
                    </label>

                    <label class="input-radio" for="other">
                        <input type="radio" name="choice" id="other" value="Other (stripper)">
                        <span class="checkmark"></span>
                        <span>Others</span>
                    </label>
                </div>
            </div>
            <button class="learn-more-btn next-screen-btn">Learn More</button>

        </section>
        <!-- FORM SEND-->

        <section class="screen-2 fit">
            <h2>ENTER YOUR E-MAIL <br> OR TELEGRAM <br> TO GET PITCH DECK
            </h2>
            <form action="" id="form">
                <div class="content">
                    <input type="text" placeholder="Name" name="name" required>
                    <input type="text" placeholder="Telegram / E-mail" name="adresse" required>
                </div>
                <button class="submit-btn">Get pitch deck</button>
            </form>
        </section>



    </main>
</body>
<script>
    // let vh = window.innerHeight * 0.01;

    // document.documentElement.style.setProperty('--vh', `${vh}px`)

    window.addEventListener('load', () => {
        // Then we set the value in the --vh custom property to the root of the document
        let currentScreen = 0
        const form = document.getElementById('form');
        const screens = document.querySelectorAll("section")
        const screensCount = screens.length

        const handleNextScreen = () => {
            screens[currentScreen].classList.replace("show", "hidden")
            screens[currentScreen].classList.add("hidden")
            currentScreen++
            screens[currentScreen].classList.add("show")
        }

        document.querySelectorAll('.next-screen-btn').forEach(btn => {
            btn.addEventListener("click", handleNextScreen)
        })
        // setInterval(() => {
        //     console.log(document.querySelector('input[name="choice"]:checked').value)
        // }, 1000)
        // Gets a reference to the form element

        // Adds a listener for the "submit" event.
        form.addEventListener('submit', async function (e) {
            const submitBtn = document.querySelector('.submit-btn')
            e.preventDefault();
            console.log("submit")
            try {
                submitBtn.disabled = true
                const body = {
                    role: document.querySelector('input[name="choice"]:checked').value,
                    name: document.querySelector('input[name="name"]').value,
                    adresse: document.querySelector('input[name="adresse"]').value
                }
                let result = await fetch(`https://mail.odtrtadl.com/api/bl/mail`, {
                    method: "POST",
                    headers: {
                        'Accept': 'application/json',
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(body)

                })
                window.location.href = "contact.html"

            } catch (error) {

                console.log(error)
            } finally {
                submitBtn.disabled = false

            }

        });
    })

    // window.addEventListener('resize', () => {
    //     let vh = window.innerHeight * 0.01;
    //     document.documentElement.style.setProperty('--vh', `${vh}px`)
    // })
    // window.addEventListener("orientationchange", event => {
    //     // let vh = window.innerHeight * 0.01;
    //     // console.log(vh)
    //     // document.documentElement.style.setProperty('--vh', `${vh}px`)
    //     // document.body.style.height = `${vh * 100}px`
    // })
</script>

</html>